# 设置过滤器

若图表的数据量较大，可以设置过滤器，将需要的某一类或某几类数据从数据中过滤出来。过滤字段为图表所选数据集中的全部维度字段，且支持多选。

过滤器可以过滤字符类或数值类的数据，不能过滤日期类的数据。若需要过滤日期类数据，请配置条件查询 > 日期查询控件。

下面以柱图为例，说明过滤器的使用方式。

**字符类**

1. 登录 **控制台**，选择 **数据报表**，然后选择 **报表**。点击 **新建报表**，进入报表编辑页面。

2. 双击柱图图标 |bar_icon| ，柱图的图例会自动显示在报表展示区。在数据标签页，完成数据配置。

3. 设置过滤器，点击 **选择字段**，下拉列表中将显示数据集中除日期类的维度字段。

4. 选择某个字符类维度字段，以场站名为例，点击 |funnel| ，在弹窗中配置过滤条件。

   .. image:: ../media/data_filter_string.png

5. 设置完成后，点击 **确定**，空心漏斗 |funnel| 自动变为实心漏斗 |funnel_config| ，表示过滤条件设置成功。

6. 点击 **更新**，系统自动更新图表，过滤器设置成功。

   .. note:: 请注意，配置图表的数据时，只有点击 **更新**，数据配置才会生效。

7. 配置完成后，点击工具栏中的 **保存**。

   .. note:: 字符类的维度字段，过滤条件包括等于，不等于，模糊匹配以及模糊不匹配。

**数值类**

1. 登录 **控制台**，选择 **数据报表**，然后选择 **报表**。点击 **新建报表**，进入报表编辑页面。

2. 双击柱图图标 |bar_icon| ，柱图的图例会自动显示在报表展示区。在数据标签页，完成数据配置。

3. 设置过滤器，点击 **选择字段**，下拉列表中将显示数据集中除日期类的维度字段。

4. 选择某个数值类维度字段，以平均风速为例，点击 |funnel| ，在弹窗中配置过滤条件。

   .. image:: ../media/data_filter_numerical.png

5. 设置完成后，点击 **确定**，空心漏斗 |funnel| 自动变为实心漏斗 |funnel_config| ，表示过滤条件设置成功。

6. 点击 **更新**，系统自动更新图表，过滤器设置成功。

   .. note:: 请注意，配置图表的数据时，只有点击 **更新**，数据配置才会生效。

7. 配置完成后，点击工具栏中的 **保存**。

   .. note:: 数值类的维度字段，过滤条件包括等于，不等于，大于，大于等于，小于，小于等于以及介于。

.. |funnel| image:: ../media/funnel.png

.. |funnel_config| image:: ../media/funnel_config.png

.. |bar_icon| image:: ../media/bar_icon.png

<!--end-->
